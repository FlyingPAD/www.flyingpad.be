<div id="layout-central" *ngIf="moodEditionFlow() as flow">
    <!-- Name & Description Edition -->
    <div class="mood-update-form">  
        <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
          <input #MoodNameInput class="form-item" type="text" formControlName="name" value="{{flow.mood.name}}">
          <input #MoodDescriptionInput class="form-item" type="text" formControlName="description" value="{{flow.mood.description}}">    
        </form>
    </div>

    <div class="form-container">
        <div class="form-flex">
            <div class="form_cat_box">
                <div *ngFor="let a of flow.artists">
                    <div class="duo">
                        <input type="checkbox" id="{{a.name}}" value="{{a.name}}" [checked]="a.isChecked" (change)="a.isChecked = !a.isChecked">
                        <label for="{{a.name}}">{{a.name}}</label>
                    </div>     
                </div>   
            </div>
        </div> 

        <div class="form-flex">
            <div class="form_cat_box">
                <div *ngFor="let m of flow.models">
                    <div class="duo">
                        <input type="checkbox" id="{{m.pseudonym}}" value="{{m.pseudonym}}" [checked]="m.isChecked" (change)="m.isChecked = !m.isChecked">
                        <label for="{{m.pseudonym}}">{{m.pseudonym}}</label>
                    </div>     
                </div>   
            </div>
        </div> 
    </div>

    <!-- Score Settings -->
    <p>Score</p>
    <div class="box-score" >
        <button (click)="updateMoodScore(flow.mood.businessId, -10)">-10</button>
        <button (click)="updateMoodScore(flow.mood.businessId, -1)">-1</button>
        <p><b>{{ flow.mood.score | number : '3.0'}}</b></p>
        <button (click)="updateMoodScore(flow.mood.businessId, 1)">+1</button>
        <button (click)="updateMoodScore(flow.mood.businessId, 10)">+10</button>
    </div>

    <!-- Sticky Picture -->
    <div id="sticky-pic">
        <div *ngIf="flow.mood.type == 1">
            <img src="{{environment}}/Content/img_thumbs/{{flow.mood.businessId}}.{{flow.mood.extension}}" />
        </div>
        <div *ngIf="flow.mood.type == 2">
            <img src="{{environment}}/Content/video_thumbs/{{flow.mood.businessId}}.jpg" />
        </div>
    </div>
    
    <!-- Tags List Form -->    
    <form (ngSubmit)="onSubmit()">
        <div id="tags-wall">
            <div *ngFor="let category of flow.tagsCheckBoxes">
                <!-- Box -->
                <div class="tags-box">
                    <!-- Category Name -->
                    <div class="box-category">
                        <p>{{category.category.name}}</p> 
                    </div>
                    <!-- Tags in Category -->                    
                    <div class="overflow">
                        <div *ngFor="let tag of category.tagsCheckBoxes">
                            <div>                                
                                <label for="{{tag.name}}">
                                    <span>{{tag.name}}</span>
                                    <input type="checkbox" id="{{tag.name}}" value="{{tag.name}}" [checked]="tag.isChecked" (change)="tag.isChecked = !tag.isChecked">
                                    <div class="custom-checkbox"></div>
                                </label> 
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Submit button -->    
        <div class="row-white">
            <div class="form_buttons">
                <button type="submit">Submit</button>
            </div>
        </div>
    </form>
</div>
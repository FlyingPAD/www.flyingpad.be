<div class="edition" *ngIf="flow() as flow">
    <div class="edition-selection">
        @if(flow.linkCategory?.name){
            <p><b>{{flow.linkCategory?.name}}</b></p>
        }
        @else {
            <p>Select a category.</p>
        }  
    </div>

    <div class="edition-selection">
        @if(flow.link){
            <p><b>{{flow.link.name}}</b></p>
        }
        @else {
            <p>Please, select a link from the list.</p>
        }
        <div class="edition-buttons">
            <img class="active" [src]="'https://s2.googleusercontent.com/s2/favicons?domain=' + flow.link?.url + '&sz=96'" />
            @if(flow.link){
                <img src="../../../assets/app_icons/arrow_up.png" (click)="go()" />
            }
        </div>
    </div>

    <div class="filter">
        <input type="text" [(ngModel)]="searchLinks" placeholder="Filter links ...">
    </div>
    
    <div class="edition-list">
        <div *ngFor="let link of filterLinks() || [] | paginate : { itemsPerPage : elementsPerPage, currentPage: paginationService.editLinksCurrentPage}">
            <a [class.active]="link.name === flow.link?.name" (click)="setLink(link)"> â–¸ {{link.name}}</a>
        </div>
    </div>

    <app-right-column>
        <app-right-column-list [table]="flow.linkCategories" [currentEntityId]="flow.linkCategory?.businessId" (entityId)="updateLinkCategoryId($event)" />
    </app-right-column>
    
    <div class="pagination-row" *ngIf="flow.linksByCategory.length > elementsPerPage">
        <div id="pagination">
            <pagination-controls previousLabel="" nextLabel="" class="pagination" (pageChange)="paginationService.editLinksCurrentPage = $event"></pagination-controls>
        </div>   
    </div>
    
    <app-bottom-bar moodsGalleryType="link" [entityName]="flow.linkCategory?.name" [moodsLength]="flow.linksByCategory.length" />
</div>